<!-- app/templates/search_corrupt_sentence.html -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>搜索修复标注示例</title>
    <style>
        .highlight {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>搜索修复标注示例</h1>
    <form method="post">
        <input type="text" name="query" placeholder="请输入包含 [MASK] 的关键词" required value="{{ query if query }}">
        <button type="submit">搜索</button>
    </form>

    {% if results %}
        {% if results.error %}
            <p style="color:red;">{{ results.error }}</p>
        {% else %}
            <h2>查询结果：</h2>
            <h3>匹配的记录：</h3>
            <p><strong>标题：</strong>{{ results.record.title }}</p>
            <p><strong>民族：</strong>{{ results.record.nation }}</p>
            <p><strong>Corrupt Sentence：</strong>{{ results.record.corrupt_sentence }}</p>
            <p><strong>修复后的句子：</strong>{{ results.record.sentence }}</p>
            <p><strong>上句：</strong>{{ results.record.up_sentence }}</p>
            <p><strong>下句：</strong>{{ results.record.down_sentence }}</p>
            <h3>上下文：</h3>
            <h4>上文记录：</h4>
            {% for item in results.up_context %}
                <p>{{ item.corrupt_sentence }}</p>
            {% endfor %}
            <h4>下文记录：</h4>
            {% for item in results.down_context %}
                <p>{{ item.corrupt_sentence }}</p>
            {% endfor %}
        {% endif %}
    {% endif %}
</body>
</html>